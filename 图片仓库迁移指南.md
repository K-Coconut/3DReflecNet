# 3DReflectNet 图片资源迁移指南

## 方案概述

将所有图片资源（instances、environments、lidars）迁移到独立的 GitHub 仓库，通过 URL 访问，解决 GitHub Pages 的大小限制问题。

## 实施步骤

### 1. 创建图片仓库

1. 在 GitHub 创建新仓库，命名为 `3DReflectNet-assets`
2. 克隆到本地：
   ```bash
   git clone https://github.com/[您的用户名]/3DReflectNet-assets.git
   ```

### 2. 迁移图片文件

将原项目中的图片目录移动到新仓库：

```bash
# 假设您已经将图片文件保存在某个位置
# 将它们复制到新仓库
cp -r [图片备份路径]/instances 3DReflectNet-assets/
cp -r [图片备份路径]/environments 3DReflectNet-assets/
cp -r [图片备份路径]/lidars 3DReflectNet-assets/
```

### 3. 提交图片到新仓库

```bash
cd 3DReflectNet-assets
git add .
git commit -m "Add all image assets"
git push origin main
```

### 4. 配置主项目

1. 在 `web` 目录创建 `.env` 文件：
   ```bash
   cd 3DReflectNet/web
   cp .env.example .env
   ```

2. 编辑 `.env` 文件，设置您的图片仓库 URL：
   ```
   VITE_ASSETS_BASE_URL=https://raw.githubusercontent.com/[您的用户名]/3DReflectNet-assets/main
   ```

### 5. 测试配置

1. 本地测试：
   ```bash
   npm run dev
   ```
   
2. 检查图片是否正常加载

### 6. 部署

1. 提交主项目更改：
   ```bash
   git add .
   git commit -m "Configure external image assets URL"
   git push origin gh-pages
   ```

2. GitHub Pages 会自动部署更新

## 注意事项

1. **图片路径**：保持原有目录结构，不要改变图片相对路径
2. **分支选择**：图片仓库使用 `main` 分支
3. **访问限制**：GitHub raw 链接有访问频率限制，但对于静态网站够用
4. **备选方案**：如果需要更好的性能，可以考虑：
   - 使用 GitHub Pages 部署图片仓库（需要在图片仓库设置中开启）
   - 使用 CDN 服务（如 Cloudflare、jsDelivr）

## 优化建议

1. **图片压缩**：在上传前压缩图片，减小文件大小
2. **懒加载**：项目已实现图片懒加载，无需额外配置
3. **缓存**：浏览器会自动缓存图片，提升访问速度

## 故障排查

如果图片无法加载：

1. 检查 `.env` 文件中的 URL 是否正确
2. 确认图片仓库是公开的（public）
3. 检查浏览器控制台的错误信息
4. 确认图片路径没有改变

## 更新图片

当需要添加新图片时：

1. 在图片仓库添加文件
2. 提交并推送到 GitHub
3. 重新运行主项目的构建脚本生成新的索引文件